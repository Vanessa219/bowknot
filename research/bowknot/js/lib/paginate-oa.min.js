!function(a){a.fn.extend({paginate:{version:"0.0.0.9",author:"lly219@gmail.com"}});var t=(new Date).getTime(),e="paginate",n=function(){this._defaults={styleClass:{pageCountClass:"paginate-pageCount",goPageClass:"paginate-goPage",inputPageClass:"paginate-inputPage",goPageHoverClass:"paginate-goPageHover",prePageClass:"paginate-prePage",nextPageClass:"paginate-nextPage",prePageDisableClass:"paginate-prePageDisable",nextPageDisableClass:"paginate-nextPageDisable",prePageHoverClass:"paginate-prePageHover",nextPageHoverClass:"paginate-nextPageHover",paginateClass:"paginate-paginate"}}};a.extend(n.prototype,{_attach:function(t,n){t.id||(this.uuid++,t.id="dp"+this.uuid);var i=this._newInst(a(t));i.settings=a.extend({errorMessage:"input error!"},n||{}),a.data(t,e,i),this._init(t)},_newInst:function(a){var t=a[0].id.replace(/([^A-Za-z0-9_])/g,"\\\\$1");return{id:t}},_getInst:function(t){try{return a.data(t,e)}catch(n){throw"Missing instance data for this paginate"}},_init:function(t){var e=this._getInst(t),n=e.id;a("#"+n).html("<div id='"+n+"Paginate' class='paginate-paginate'></div>"),this._build(t)},_build:function(t){var e=this._getInst(t),n=e.id,i=e.settings,g=i.pageCount,s=i.pageNo,p=i.totalRecords,r=Math.ceil(p/g),o="<$tagStart class='paginate-pre'>Pre</$tagEnd> ",c="<$tagStart class='paginate-next'>Next</$tagEnd> ",d="到<input class='paginate-input' id='"+n+"PaginateInput'/>页            <button class='paginatie-go' href='javascript:void(0);' id='"+n+"PaginateSubmit'>go</button>";o=1===s||0===s?o.replace("$tagStart","span").replace("$tagEnd","span"):o.replace("$tagStart","a href='javascript:void(0)'").replace("$tagEnd","a"),c=s===r?c.replace("$tagStart","span").replace("$tagEnd","span"):c.replace("$tagStart","a href='javascript:void(0)'").replace("$tagEnd","a"),a("#"+n+"Paginate").html("共"+p+"条 "+s+"/"+r+"页 "+o+c+d),this._bindEvent(t)},_bindEvent:function(t){var e=this._getInst(t),n=e.id;a("#"+n+"PaginateInput").bind("keypress",{target:t},function(t){13===t.keyCode&&a.paginate._goToPageAction(t)}),a("#"+n+"PaginateSubmit").bind("click",{target:t},this._goToPageAction),a("#"+n+"Paginate a.paginate-pre").bind("click",{target:t,type:"pre"},function(t){a.paginate._goToPageAction(t)}),a("#"+n+"Paginate a.paginate-next").bind("click",{target:t,type:"next"},function(t){a.paginate._goToPageAction(t)})},_goToPageAction:function(t){var e=t.data.target,n=a.paginate._getInst(e),i=n.id,g=n.settings,s=parseInt(a("#"+i+"PaginateInput").val()),p=Math.ceil(g.totalRecords/g.pageCount);if("next"===t.data.type?(s=g.pageNo,s++):"pre"===t.data.type&&(s=g.pageNo,s--),g.pageNo!==s){var r=/^[0-9]*[1-9][0-9]*$/;s>0&&p>=s&&r.test(s)?g.bind(s):(g.bind(s,g.errorMessage),a("#"+i+"PaginateInput").val(""))}},_updatePaginate:function(t,e){e&&a.extend(this._getInst(t).settings,e),this._build(t)},_destroyPaginate:function(){}}),a.fn.paginate=function(t){var e=Array.prototype.slice.call(arguments);return"string"==typeof t?(e.shift(),a.paginate["_"+t+"Paginate"].apply(a.paginate,[this[0]].concat(e))):this.each(function(){a.paginate._attach(this,t)})},a.paginate=new n,window["DP_jQuery_"+t]=a}(jQuery);